
/*! Txplayer - v3.0.0 - 2016-08-19 14:24:25
 * Copyright (c) 2016
 * Powered by Tencent-Video Web Front End Team 
*/
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}({0:function(a,b,c){a.exports=c(99)},99:function(a,b,c){function d(a){function b(a){var b=["title","volume","duration","vid","containerId"];for(var c in a)m.inArray(c,b)>-1&&(a[c]=i.xss(a[c]));return a}function c(){var a=i.getData(k.localStorageKey.userId);a&&32===a.length||(a=i.createGUID(),i.setData(k.localStorageKey.userId,a)),w.msg.on(g.publicApi.getUserId,function(b,c){c.data=a})}function e(){var a=i.createGUID();return a}function f(a,b){function c(){var a=i.getData(k.localStorageKey.userSetting),b={};try{b=window.JSON&&"function"===m.type(JSON.parse)?JSON.parse(a):m.parseJSON(a)}catch(c){w.msg.broadcast(d.apiList.privateApi.reportError,{msg:c.message,code:d.define.reportCode.JS_ERROR,stack:c.stack})}return b&&b.isUseFlash+""=="1"?"flash":b&&b.isUseFlash+""=="0"?"html5hd":""}var e;i.mobile||(e=c()),"html5hd"!==a.playerType&&"html5hd"!==e||!i.os.windows||k.debug||(e="flash"),i.browser.ie&&(e="flash"),i.os.ipad&&(e="ipadh5"),a.playerType=e?e:a.playerType?a.playerType:n();var f=b[a.playerType];return f&&0!==f.length?f:[]}function h(){i.loadPlugins.call(y,x,w,t.settings,function(){w.dataset.isReady=!0,"flash"!==t.playerType&&(s.broadcast(g.eventApi.onReady),r.broadcast(g.eventApi.onReady))})}function n(){function a(){return i.os.mac?i.browser.safari&&i.isFlashFit()?"flash":"html5hd":i.os.windows?"flash":i.os.ios?i.os.ipad?"ipadh5":"h5":i.os.android?i.isSupportMP4()?"h5":"mp4link":"h5"}function b(){}return"vod"===t.videoType?a():b()}function o(){var a=[],b=[],c=[],e=function(b){"string"===m.type(b)&&(t.settings[b]?t.settings.hasOwnProperty(b)&&!t.settings[b].url&&a.push(b):a.push(b),t.settings[b]&&"array"===m.type(t.settings[b].subPlugins)&&m(t.settings[b].subPlugins).each(function(a,b){e(b)}))};m(x).each(function(a,b){e(b)});var f="/tencentvideo/txp/js/plugins/";for(m(a).each(function(a,c){if(!d.plugins[c]){var e=c.toLowerCase()+".js";b.push(e)}});b.length>=20;)c.push(k.comboServiceRule+f+b.splice(0,20));b.length>0&&c.push(k.comboServiceRule+f+b.splice(0,20));var g=function(){if(0===c.length)return void h();var a=c.shift();a+="?max_age=604800&v="+d.dataset.ts,i.loadScript(a).done(function(){g()}).fail(function(){g()})};g()}var r=new l,s=new l;this.userMsg=s,a.playType&&(a.playerType=a.playType);var t=m.extend({},j,a);t=b(t);var u,v=a.pluginsMap||q;u=v[t.videoType],t.settings=m.extend({},t.settings,t.extendSettings||{});var w={config:t,msg:r,userMsg:s,dataset:{}};r.setMaxListeners(100),s.setMaxListeners(100);var x=f(t,u);a.extendPluginsMap&&a.extendPluginsMap[t.videoType]&&a.extendPluginsMap[t.videoType][t.playerType]&&(x=x.concat(a.extendPluginsMap[t.videoType][t.playerType]));var y=this;t.playerId=e(),k._instance[t.playerId]=this,"flash"===t.playerType&&(k.flashVersion=i.getFlashVersion()),c(),s.on(g.eventApi.onReady,function(){p.reportTxplayer(w,{playType:t.playerType,videoType:t.videoType})}),p.exportsReportApi(w);for(var z in g.publicApi)!function(a,b){y[a]=function(){if(!r.listenerCount(b))return i.showError(b,"API没有实现，请核对当前版本是否有提供这个API("+k.documentWebSite+")"),"error";var a=[b];return m.each(arguments,function(b,c){a.push(c)}),r.run.apply(r,a)}}(z,g.publicApi[z]);this.isApiExist=function(a){return!!(g.publicApi[a]&&r.listenerCount(g.publicApi[a])>0)},r.on("setPlayerModel",function(a){a&&a.length&&(w.dataset.$playermod=a)}),t.useComboService?o():h(),s.on(g.publicApi.isReady,function(a,b){b.data=!!w.dataset.isReady}),r.on(g.publicApi.getPlayerType,function(a,b){b.data=t.playerType}),r.on(g.publicApi.getVideoType,function(a,b){b.data=t.videoType}),w.msg.on(d.apiList.privateApi.destroyPlugin,function(a,b){if(a){var c="_"+a;return void(y[c]&&(y[c]=null,delete y[c]))}for(var d in y)y[d]=null,delete y[d];k.maxId--}),this.on=function(a,b){if("string"!=typeof a)return i.error("player.on(evtName, fn), evtName must be a String"),this;if("function"!=typeof b)return i.error("player.on(evtName, fn), fn must be a Function"),this;var c=this;return s.on(a,function(){b.apply(c,arguments)}),this},this.trigger=function(a,b){if("string"!=typeof a)return!1;var c=[a,b];return m.each(arguments,function(a,b){a<2||c.push(b)}),s.broadcast.apply(s,c)},this.off=function(a){return"string"!=typeof a?(i.error('player.off("evtName"):evtName must be a string'),!1):(s.off(a),this)}}var e=c(100),f=c(101),g=c(102),h=c(103),i=c(104);i.uaMatch=e,i.report=f,e.call(i);var j=c(105),k=c(106),l=c(107),m=c(109),n=c(110),o=c(111),p=c(112);m.tmpl=n,i.xml2json=o;var q={vod:{html5hd:["HtmlFrame","HdPlayer","UiTips","HdPlayerAd","HdPlayerReport","HdPlayerHistory","UiControl","UiPreview","UiLoading","UiTitle","UiPlayerAd","UiPoster","UiDialog","HdPlayerAdReport","HdHotKey","HdPlayerControl"],ipadh5:["HtmlFrame","UiTips","UiControl","UiLoading","UiPlay","UiIpadLimit","UiPlayerAd","HdPlayerReport","HdPlayerHistory","UiPoster","UiDialog","HdPlayerAd","HdPlayerAdReport","H5Player","H5PlayerControl"],flash:["HtmlFrame","FlashPlayer"],tizen:["TizenLoadingAd","TizenTV"]},live:{}};d.register=function(a,b){return"string"!=typeof a?(i.error("player.register(pluginName, fn), pluginName must be a String"),this):"function"!=typeof b?(i.error("player.register(pluginName, fn), fn must be a Function"),this):void(d.plugins[a]=b)},m(document).trigger(k.jsApiReady),d.msg=new l,d.dataset=k,d.defaultconfig=j,d.util=i,d.Events=l,d.plugins={},d.$=m,d.apiList=g,d.define={reportCode:h},window.Txplayer=d},100:function(a,b){function c(a){a=a||navigator.userAgent,a=a.toLowerCase(),this.browser={},this.os={},this.phone={},this.mobile=!1,a.indexOf("mobile")>-1&&(this.mobile=!0);var b,c={android_1:/android[\s\/]([\d\.]+)/i,android_2:/android/i,android_3:/MIDP-/i,ipod_1:/iPod\stouch;\sCPU\siPhone\sos\s([\d_]+)/i,ipod_100:/iPod.*os\s?([\d_\.]+)/i,iphone:/iPhone;\sCPU\siPhone\sos\s([\d_]+)/i,iphone_100:/iPhone.*os\s?([\d_\.]+)/i,ipad_1:/ipad;\scpu\sos\s([\d_]+)/i,ipad_2:/ipad([\d]+)?/i,windows:/windows\snt\s([\d\.]+)/i,mac:/Macintosh.*mac\sos\sx\s([\d_\.]+)/i};for(var d in c)if(b=c[d].exec(a)){this.os[d.replace(/_\d+/,"")]=!0,b[1]&&(this.os.version=b[1].replace(/_/g,"."));break}(this.os.iphone||this.os.ipad||this.os.ipod)&&(this.os.ios=!0);var e,f,g={wechat:/MicroMessenger\/([\d\.]+)/i,ipadqq:/IPadQQ\/([\d\.]+)/i,mqq:/qq\/([\d\.]+)/i,chrome_1:/CriOS\/([\d\.]+)/i,chrome_2:/Chrome\/([\d\.]+)/i,qzone:/QZONEJSSDK\/([\d\.]+)/i,mqqbrowser:/mqqbrowser\/([\d\.]+)/i,qqbrowser:/[^m]QQBrowser\/([\d\.]+)/i,x5:/tbs\/(\d+)/i,uc:/UCBrowser\/([\d\.]+)/i,safari:/Safari\/([\d\.]+)/i,firefox:/Firefox\/([\d\.]+)/i,ie_1:/MSIE\s([\d\.]+)/i,ie_2:/(trident\/\d\.\d)/,weibo:/weibo__([\d\.]+)/i,qqnews:/qqnews\/([\d\.]+)/i,qqlive_1:/QQLiveBrowser\/([\d\.]+)/i,qqlive_2:/QQLiveHDBrowser\/([\d\.]+)/i,kuaibao:/qnreading\/([\d\.]+)/i,liebao:/LieBaoFast\/([\d\.]+)/i,douban:/com\.douban\.frodo\/([\d\.]+)/i,miuibrowser:/MiuiBrowser/i,baidu:/baiduboxapp/i,browser360:/360browser/i,oppobrowser:/OppoBrowser/i};for(var h in g)if(e=g[h].exec(a)){if(f=h.replace(/_\d+/,""),this.browser[f])return;this.browser[f]={version:e[1]}}this.os.android&&this.browser.safari&&delete this.browser.safari,this.browser.chrome&&this.browser.safari&&delete this.browser.safari,this.browser.ie&&this.browser.ie.version&&this.browser.ie.version.indexOf("trident")>-1&&(this.browser.ie.version.indexOf("6.0")>-1?this.browser.ie.version="10":this.browser.ie.version.indexOf("5.0")>-1?this.browser.ie.version="9":this.browser.ie.version.indexOf("4.0")>-1?this.browser.ie.version="8":this.browser.ie.version="11");var i,j={ipod:/iPod/i,ipad:/iPad/i,iphone:/iPhone/i,huawei_1:/HUAWEI([\w_-]+)/i,huawei_2:/(CHM-\w+)/i,huawei_3:/(HonorChe)/i,huawei_4:/HONORPLK/i,huawei_5:/(Che\d+-CL\d+)/i,huawei_6:/(H\d+-L\d+)/i,huawei_100:/HUAWEI/i,xiaomi_1:/(HM\sNOTE)/i,xiaomi_2:/(HM\s\w+)/i,xiaomi_3:/(MI\s\w+)/i,xiaomi_4:/(MI-ONE\sPlus)/i,xiaomi_5:/(M1)\sBuild/i,xiaomi_6:/(HM\d+)/i,xiaomi_7:/Xiaomi[\s_]?([\w_]+)/i,samsung_1:/(GT-\w+)/i,samsung_2:/(SCH-\w+)/i,samsung_3:/(SM-\w+)/i,vivo:/vivo\s(\w+)/i,oneplus:/ONEPLUS-([a-z0-9]+)/i,lenovo_1:/Lenovo[\s-]?([\w-]+)/i,lenovo_100:/Lenovo/i,zte_1:/ZTE\s?(\w+)?/i,zte_2:/ZTE/i,coolpad_1:/Coolpad\s(\w+)/i,coolpad_100:/Coolpad/i,oppo_1:/OPPO\s?(\w+)/i,oppo_2:/(R7Plus|R8007|R801|R831S|R8205)/i,oppo_100:/OPPO/i,meizu_1:/(MX\d+)/i,meizu_2:/(m\d+\snote)\sBuild/i,htc_1:/HTC\s?(\w+)/i,htc_100:/HTC/i,tcl:/TCL\s(\w+)/i,lephone:/lephone\s(\w+)/i,lg:/LG[\s-]?(\w+)/i,galaxy:/(galaxy\d+)/,hisense_1:/Hisense/i,hisense_2:/HS-(\w+)/i,philips:/Philips\s?(\w+)?/i,"金立":/(GN\w+)\sBuild/i,sonny:/sonny/i,"天语":/K-Touch/i};for(var k in j)if(i=j[k].exec(a)){this.phone.name=k.replace(/_\d+/,""),i[1]&&(this.phone.version=i[1].replace(/^[_-]/gi,""));break}}a.exports=c},101:function(a,b){function c(a){return e?void g.push(a):(e=setTimeout(function(){d()},1e3),f=document.createElement("img"),f.onerror=d,void(f.src=a))}function d(){return 0===g.length?(f=null,void(e=null)):(clearTimeout(e),e=null,void c(g.shift()))}var e,f,g=[];a.exports=c},102:function(a,b){var c,d={isReady:"isReady",play:"setVideoPlay",pause:"setVideoPause",playNext:"playNext",stop:"setVideoStop",mute:"setVideoMute",unMute:"setVideoUnMute",volumeUp:"setVideoVolumeUp",volumeDown:"setVideoVolumeDown",getVolume:"getVideoVolume",setVolume:"setVideoVolume",volumeUp:"volumeUp",volumeDown:"volumeDown",isMuted:"isVideoMuted",setPoster:"setVideoPoster",getPoster:"getVideoPoster",getDuration:"getVideoDuration",getFileSize:"getVideoFileSize",getCurrentTime:"getVideoCurrentTime",getDefinition:"getCurrentVideoDefinition",getDefinitionList:"getVideoDefinitionList",setDefinition:"setVideoDefinition",getVideoSize:"getVideoWidthHeight",seekTo:"setVideoSeekTo",seekRight:"seekRight",seekLeft:"seekLeft",resize:"resize",autoResize:"autoResize",getUserId:"getUserId",getPlayerId:"getPlayerId",isPlaying:"isVideoPlaying",getVid:"getVid",getCid:"getCid",getColumnId:"getColumnId",setNextVid:"setNextVid",getPlayerState:"getPlayerState",isBrowserFullscreen:"isBrowserFullscreen",isWindowFullscreen:"isWindowFullscreen",enterBrowserFullscreen:"enterBrowserFullscreen",enterWindowFullscreen:"enterWindowFullscreen",exitWindowFullscreen:"exitWindowFullscreen",exitBrowserFullscreen:"exitBrowserFullscreen",toggleWindowFullScreen:"toggleWindowFullScreen",toggleBrowserFullScreen:"toggleBrowserFullScreen",smallWindow:"smallWindow",follow:"follow",cancelFollow:"cancelFollow",isFollow:"isFollow",resizeFlashForChrome:"resizeFlashForChrome",getPlaybackRate:"getPlaybackRate",setPlaybackRate:"setPlaybackRate",destroy:"destroy",getPlayerType:"getPlayerType",getPlayerSize:"getPlayerSize",getVideoType:"getVideoType",setNextEnable:"setNextEnable",bulletSwitch:"bulletSwitch",transferMyBullet:"transferMyBullet",postBullet:"postBullet",setSmallWindowMode:"setSmallWindowMode",callPlayerExtendMethod:"callPlayerExtendMethod",togglePlayPause:"togglePlayPause",setTheaterMode:"setTheaterMode",isTheaterMode:"isTheaterMode",isWindowFocus:"isWindowFocus",isPlayerInScreen:"isPlayerInScreen"},e={reportError:"reportError",reportUsrAction:"reportUsrAction",reportGetinfo:"reportGetinfo",reportAppBanner:"reportAppBanner",play:"setPlay",setFocusVideoPlay:"setFocusVideoPlay",setFocusVideoPause:"setFocusVideoPause",getNextVideoMp4Url:"getNextVideoMp4Url",getNextVideoUrlByVid:"getNextVideoUrlByVid",isFocusVideoBufferComplete:"isFocusVideoBufferComplete",setFocusVideoUrl:"setFocusVideoUrl",clearFocusVideoUrl:"clearFocusVideoUrl",clearPreloadVideoUrl:"clearPreloadVideoUrl",setPreloadVideoUrl:"setPreloadVideoUrl",setPreloadVideoPlay:"setPreloadVideoPlay",isPreloadVideoUrlInsert:"isPreloadVideoUrlInsert",setVideoUrl:"setVideoUrl",getCurrentPlayListType:"getCurrentPlayListType",getFocusVideoCurrentTime:"getFocusVideoCurrentTime",getFocusVideoDuration:"getFocusVideoDuration",setFocusVideoCurrentTime:"setFocusVideoCurrentTime",getFocusVideoWidthHeight:"getFocusVideoWidthHeight",getPlayerConfig:"getPlayerConfig",isSkipPrelude:"isSkipPrelude",addUrls2Player:"addUrls2Player",lockAndPreloadNext:"lockAndPreloadNext",getVideoInfoData:"getVideoInfoData",clearPlaylist:"clearPlaylist",getPlayListIndex:"getPlayListIndex",isTheLastOfPlayList:"isTheLastOfPlayList",getVideosOriginData:"getVideosOriginData",getDefinitionFormat:"getDefinitionFormat",getRequestId:"getRequestId",calcTotalPlaylist:"calcTotalPlaylist",getFocusVideoBufferedTime:"getFocusVideoBufferedTime",getBufferedTime:"getBufferedTime",setPreloadVideoKeepSpaceToFocusVideo:"setPreloadVideoKeepSpaceToFocusVideo",playTheNext:"playTheNext",destroyPlugin:"destroyPlugin",getConnectionPlayTime:"getConnectionPlayTime",isVideoSeeking:"isVideoSeeking",isFocusVideoSeeking:"isFocusVideoSeeking",resetVideoStatus:"resetVideoStatus",getConnectionPlayType:"getConnectionPlayType",getPlayEndTime:"getPlayEndTime",isTrialVideo:"isTrialVideo",getUserTitle:"getUserTitle",videoRequestFullScreen:"videoRequestFullScreen",loadingAdEnd:"loadingAdEnd",isPlayingAd:"isPlayingAd",getAdCurrentTime:"getAdCurrentTime",getAdDuration:"getAdDuration",getCurrentAdInfo:"getCurrentAdInfo",isAdCanNotSkip:"isAdCanNotSkip",pauseAd:"pauseAd",playAd:"playAd",requestLoadingAd:"requestLoadingAd",requestPauseAd:"requestPauseAd",hasLoadingAd:"hasLoadingAd",getPlayAdJsonData:"getPlayAdJsonData",skipAd:"skipAd",hidePlayAdUI:"hidePlayAdUI",onCloseAdClick:"closeAdClick",adMuteStateUpdate:"adMuteStateUpdate",clearLoadingAd:"clearLoadingAd",hideUiControl:"hideUiControl",hideUiTitle:"hideUiTitle",hideUiFavorite:"hideUiFavorite",showUiControl:"showUiControl",showUiFavorite:"showUiFavorite",updateVideoPreview:"updateVideoPreview",showVideoPreview:"showVideoPreview",hideVideoPreview:"hideVideoPreview",hideUiTitle:"hideUiTitle",showUiTitle:"showUiTitle",disableHideControl:"disableHideControl",showPlayerUiTools:"showPlayerUiTools",hidePlayerUiTools:"hidePlayerUiTools",togglePlayerUiTools:"togglePlayerUiTools",showUiTips:"showUiTips",hideUiTips:"hideUiTips",getHistoryDefinition:"getHistoryDefinition",showErrorUiTips:"showErrorUiTips",openAtTencentVideo:"openAtTencentVideo",disableShowControl:"disableShowControl",hideUiSettingLayerOnMobile:"hideUiSettingLayerOnMobile",isControlShow:"isControlShow",updateProgress:"updateProgress",isUiTipsShowing:"isUiTipsShowing",isSmallWindowMode:"isSmallWindowMode",hideUiPlay:"hideUiPlay",isFlashNeedResize:"isFlashNeedResize",isUserOpenBullet:"isUserOpenBullet",isServerOpenBullet:"isServerOpenBullet",isShowBulletInput:"isShowBulletInput",getBulletLikeNumber:"getBulletLikeNumber",isBulletOpenDefault:"isBulletOpenDefault",getFlashBulletSwitchStatus:"getFlashBulletSwitchStatus",getFlashVar:"getFlashVar",isShowBulletRegion:"isShowBulletRegion",getTizenTVApi:"getTizenTVApi"},f={onWrite:"write",onReady:"ready",onEnded:"ended",onPlaying:"playing",onPlay:"play",onPause:"pause",onResume:"resume",onError:"error",onPreloadError:"preloadVideoError",onWaiting:"waiting",pluginReady:"pluginReady",onVolumeChange:"volumeChange",onTimeUpdate:"timeupdate",onSectionCanplay:"sectionCanplay",onSectionLoadstart:"sectionLoadstart",onSectionSeeking:"sectionSeeking",onSectionSeeked:"sectionSeeked",onSectionPlay:"sectionPlay",onSectionPlaying:"sectionPlaying",onSectionWaiting:"sectionWaiting",onSectionPause:"sectionPause",onSectionTimeupdate:"sectionTimeupdate",onSectionProgress:"sectionProgress",onSectionEnded:"sectionEnded",onSectionBufferEnd:"sectionBufferEnd",onGetVideoUrlSuccess:"getVideoUrlSuccess",onGetVideoUrlFail:"getVideoUrlFail",onPlayStateChange:"playStateChange",onDefinitionChange:"definitionChange",onVidChange:"vidChange",onSetDefinitionStart:"setDefinitionStart",onSetDefinitionDone:"onSetDefinitionDone",onSetDefinitionFail:"setDefinitionFail",onPreloadListChange:"preloadListChange",onGetinfoStart:"getinfoStart",onGetinfoEnded:"getinfoEnded",onGetvkeyEnded:"getvkeyEnded",onGetvkeyStart:"getvkeyStart",onSeekStart:"seekStart",onSeekEnded:"seekEnded",onPlayStart:"playStart",onUserPausePlayer:"userPausePlayer",onNetworkBadStart:"networkBadStart",onNetworkBadEnd:"networkBadEnd",onPlaybackRateChange:"playbackRateChange",onVideoInterruptByError:"videoInterruptByError",onBeforeVideoPlay:"beforeVideoPlay",onBeforeVideoRePlay:"beforeVideoRePlay",onBarrageSeekTime:"barrageSeekTime",onSmallWindowModeChange:"smallWindowModeChange",onLoadingAdDataReady:"loadingAdDataReady",onEndingAdDataReady:"endingAdDataReady",onPauseAdDataReady:"pauseAdDataReady",onLoadingadIsEmpty:"loadingadIsEmpty",onInsertAdDataReady:"insertAdDataReady",onInsertAdEnded:"insertAdEnded",onInsertAdStart:"insertAdStart",onLoadingAdEnded:"loadingAdEnded",onLoadingAdStart:"loadingAdStart",onLoadingAdRequestError:"onLoadingAdRequestError",onLoadingAdPlayError:"onLoadingAdPlayError",onOpenAdLink:"openAdLink",onPuaseAdShow:"puaseAdShow",onAdStart:"adStart",onAdEnd:"adEnd",onEndingAdStart:"onEndingAdStart",onAdMuteChange:"adMuteChange",onToggleSideBar:"toggleSideBarBtnClick",onWindowFullscreenChange:"windowFullscreenChange",onBrowserFullscreenChange:"browserFullscreenChange",onFollow:"userDoFollow",onCancelFollow:"userCancelFollow",onClickCloseLight:"clickCloseLight",onBeforePlayNext:"beforePlayNext",showUIVipGuide:"showUIVipGuide",onToggleHotBarrage:"toggleHotBarrage",onOpenMiniPay:"openMiniPay",onShowLogin:"showLogin",onAfterLogin:"afterLogin",onAfterLogout:"afterLogout",onShowBulletRegion:"showBulletRegion",onSwitchBullet:"switchBullet",onOpenVIP:"openVIP",onTizenLoadingAdEnded:"tizenLoadingAdEnded",onTizenLoadingIsEmpty:"tizenLoadingIsEmpty",onTizenLoadingOnError:"tizenLoadingOnError",onBulletReady:"bulletReady",onBulletLikeNumberUpdate:"bulletLikeNumberUpdate",onFlashBulletSwitchStatusChange:"flashBulletSwitchStatusChange",onBrandApiReady:"brandApiReady",onToggleHideSeekBar:"onToggleHideSeekBar",onClickOpenPcClient:"clickOpenPcClient",onPlayerEmitCommonMsg:"playerEmitCommonMsg"},g={},h=function(a){if(!(window.Txplayer&&Txplayer.util&&Txplayer.util.error))throw a;Txplayer.error(a)};for(c in d)g.hasOwnProperty(d[c])&&h("EventName is already exist:"+d[c]),g[d[c]]=null;for(c in e)g.hasOwnProperty(e[c])&&h("EventName is already exist:"+e[c]),g[e[c]]=null;for(c in f)g.hasOwnProperty(f[c])&&h("EventName is already exist:"+f[c]),g[f[c]]=null;g=h=null,a.exports={publicApi:d,privateApi:e,eventApi:f}},103:function(a,b){var c={JS_ERROR:"3000",FLASH_API_ERROR:"3001",CGI_ERROR:"3002",VIDEO_PLAY_FAIL:"3003"};a.exports=c},104:function(a,b){var c={error:function(a){if(window.console&&window.console.error)try{throw a}catch(b){window.console.error(a)}},log:function(){window.console&&window.console.log&&Txplayer&&Txplayer.dataset&&Txplayer.dataset.debug&&window.console.log.apply&&window.console.log.apply(window.console,arguments)},showInfo:function(a,b){window.console&&window.console.log&&("object"==typeof b&&window.JSON&&window.JSON.stringify&&(b=JSON.stringify(b)),c.log("%c"+a+": %c \t\t"+b,"background: gray;color:#fff;","color:green;"))},showError:function(a,b){window.console&&window.console.log&&c.log("%c"+a+": %c "+b,"background: red;color:#fff;","color: red;")},fiddlerLog:function(a){Txplayer&&Txplayer.dataset&&!Txplayer.dataset.debug||("string"!=typeof a&&"number"!=typeof a||(a={a:a}),(new Image).src="http://test.m.v.qq.com/txplayer?"+Txplayer.$.param(a))},cookie:{set:function(a,b,c,d,e){if(e){var f=new Date,g=new Date;g.setTime(f.getTime()+36e5*e)}return document.cookie=a+"="+b+"; "+(e?"expires="+g.toGMTString()+"; ":"")+(d?"path="+d+"; ":"path=/; ")+(c?"domain="+c+";":"domain="+window.location.host+";"),!0},get:function(a){var b=new RegExp("(?:^|;+|\\s+)"+a+"=([^;]*)"),c=document.cookie.match(b);return c?c[1]:""},del:function(a,b,c){var d=new Date;d.setTime(d.getTime()-1),document.cookie=a+"=; expires="+d.toGMTString()+";"+(c?"path="+c+"; ":"path=/; ")+(b?"domain="+b+";":"domain="+window.location.host+";")}},object2string:function(a,b){b="undefined"!=typeof b?b:"&";var c=[];for(var d in a)c.push(d+"="+a[d]);return c.join(b)},appendParamsToUrl:function(a,b){return a+=a.indexOf("?")>-1?"&"+c.object2string(b):"?"+c.object2string(b)},removeUrlParams:function(a){if("string"==typeof a){var b=document.createElement("a");return b.href=a,b.protocol+"//"+b.host+b.pathname}},getRelativeUrl:function(a){if("string"==typeof a){var b=document.createElement("a");b.href=a;var c;return c=b.pathname&&"string"==typeof b.pathname?b.pathname:"","//"+b.host+("/"!==c[0]?"/"+c:c)}},loadCss:function(a){var b=Txplayer.$.Deferred(),d=1,e=!1,f=function(a){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.onload=function(){b.resolve()},e.onerror=function(){if(d>=3)return void b.reject();d++,e.parentNode.removeChild(e);var g={};g["__t"+d]=+new Date,f(c.appendParamsToUrl(a,g))},e.href=a,Txplayer.$("head")[0].appendChild(e)},g=c.getRelativeUrl(a);return Txplayer.$('link[rel="stylesheet"]').each(function(a,b){var c=b.href;if(c&&c.indexOf(g)>-1)return e=!0,!1}),e?b.resolve():(a=c.appendParamsToUrl(a,{_:window.Txplayer&&Txplayer.dataset.ts||+new Date}),f(a)),b},getDefaultPosterByVid:function(a){var b=["496_280"],c="http://shp.qpic.cn/qqvideo_ori/0/{vid}_{index}/0";return c.replace("{vid}",a).replace("{index}",b[0])},loadScript:function(a){var b,c=document.createElement("script"),d=document.getElementsByTagName("head")[0],e=/^(?:loaded|complete|undefined)$/;if(a)return Txplayer.dataset.loadScriptDefer[a]?Txplayer.dataset.loadScriptDefer[a]:(b=Txplayer.$.Deferred(),Txplayer.dataset.loadScriptDefer[a]=b,c.async="async",c.src=a,c.charset="utf-8",c.setAttribute("crossorigin",""),c.onload=c.onerror=c.onreadystatechange=function(){e.test(c.readyState)&&(c.onload=c.onerror=c.onreadystatechange=null,c=null,b.resolve())},c.onerror=function(){c.onload=c.onerror=c.onreadystatechange=null,c=null,b.reject()},d.appendChild(c),b)},getFlashVersion:function(){var a=Txplayer.dataset.flashVersion;if("0.0.0"!=a)return a;var b=null,c=null,d=[],e="Shockwave Flash",f=navigator,g="application/x-shockwave-flash";if(Txplayer.util.browser.ie)try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),b&&(c=b.GetVariable("$version"),c&&(c=c.split(" ")[1].split(","),d=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]))}catch(h){}else"undefined"!=typeof f.plugins&&"object"==typeof f.plugins[e]&&(c=f.plugins[e].description,!c||"undefined"==typeof f.mimeTypes&&f.mimeTypes[g]&&!f.mimeTypes[g].enabledPlugin||(c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),d[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),d[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),d[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0));return a=d.join(".")},compareVersion:function(a,b){a=String(a).split("."),b=String(b).split(".");try{for(var c=0,d=Math.max(a.length,b.length);c<d;c++){var e=isFinite(a[c])&&Number(a[c])||0,f=isFinite(b[c])&&Number(b[c])||0;if(e<f)return-1;if(e>f)return 1}}catch(g){return-1}return 0},isFlashFit:function(){return this.compareVersion(this.getFlashVersion(),"10.0")>-1},getJsonpCallbackName:function(a){return["txplayerJsonpCallBack",a,parseInt(1e6*Math.random())].join("_")},getStdfrom:function(){var a="view.inews.qq.com"===location.hostname,b=location.hostname.indexOf("caixin.com")>-1;return b?"v1093":Txplayer.util.os.iphone||Txplayer.util.os.ipod?a?"v3110":"v3010":Txplayer.util.os.ipad?a?"v4110":"v4010":Txplayer.util.os.android?Txplayer.util.os.tablet?"v6010":a?"v5110":"v5010":Txplayer.util.browser.IEMobile?"v7010":"v1010"},getDeviceId:function(){var a=navigator.userAgent;return c.os.ipad?1:c.os.windows?/Touch/i.test(a)?8:/Phone/i.test(a)?7:2:c.os.android?c.mobile?3:5:c.os.iphone?4:c.os.mac?9:10},getBusinessId:function(){if(c.browser.wechat)return 6;if(c.browser.mqq)return 17;var a="";if(document.location.href.indexOf("http://v.qq.com/iframe/")>=0&&window!=top){var b=document.referrer;if(""!==b){var d=document.createElement("a");d.href=b,a=d.hostname,d=null}}""===a&&(a=document.location.hostname||document.location.host);var e=[{r:/(\w+\.)?weixin\.qq\.com$/i,v:6},{r:/^(v|film)\.qq\.com$/i,v:1},{r:/^news\.qq\.com$/i,v:2},{r:/(\w+\.)?qzone\.qq\.com$/i,v:3},{r:/(\w+\.)?t\.qq\.com$/i,v:5},{r:/^3g\.v\.qq\.com$/i,v:8},{r:/^m\.v\.qq\.com$/i,v:10},{r:/3g\.qq\.com$/i,v:12}];a=a.toLowerCase();for(var f=0,g=e.length;f<g;f++){var h=e[f];if(h.r.test(a))return h.v}return 7},getPlatform:function(){var a=c.getBusinessId(),b=c.getDeviceId();return 1e4*a+100*b+1},getDeviceCode:function(){var a=0;return c.os.iphone?a=2:c.os.ipad?a=3:c.os.android&&c.phone&&(a=1),a},getPlatformCode:function(){var a=0;return c.browser.wechat?a=1:c.browser.mqq?a=2:c.browser.mqqbrowser&&(a=3),a},isQQBuLuoHost:function(){return!(!Txplayer.util.browser.MQQClient||"xiaoqu.qq.com"!==window.location.hostname&&"buluo.qq.com"!==window.location.hostname)},getMobileVideoPosterByVid:function(a,b){b=b||2;var c=["496_280","360_204","228_128"],d="//shp.qpic.cn/qqvideo_ori/0/{vid}_{index}/0";return b>=c.length&&(b=c.length-1),d.replace("{vid}",a).replace("{index}",c[b])},getPcVideoPosterByVid:function(a,b){function c(a){for(var b=1e8,c=0,d=0;d<a.length;d++)c=(c<<5)+c+a.charCodeAt(d);return c%b}if(b=b||".png",!a)return"";var d="//vpic.video.qq.com/"+c(a)+"/"+a+b;return d},getHostNameByUrl:function(a){a=a||location.href;var b=document.createElement("a");return b.href=a,b.hostname},getQQFromCookie:function(){var a=c.cookie.get("luin")||c.cookie.get("uin");return a&&(a=a.replace(/\D/g,"")),a},createGUID:function(a){a=a||32;for(var b="",c=1;c<=a;c++){var d=Math.floor(16*Math.random()).toString(16);b+=d}return b},filterXSS:function(a){return"string"!=typeof a?a:a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")},getData:function(a){if(window.localStorage)return window.localStorage[a]},setData:function(a,b){if(window.localStorage)try{window.localStorage[a]=b}catch(d){c.showError(d)}},delData:function(a){if(window.localStorage)return window.localStorage.removeItem(a),!0},isSupportM3u8:function(){var a=document.createElement("video"),b=["application/x-mpegURL","audio/mpegurl","vnd.apple.mpegURL","application/vnd.apple.mpegURL"],c=!1;if("function"==typeof a.canPlayType)for(var d=0,e=b.length;d<e;d++)if(a.canPlayType(b[d])){c=!0;break}return a=null,c},isSupportMP4:function(){var a=document.createElement("video");if("function"==typeof a.canPlayType){if("probably"==a.canPlayType('video/mp4; codecs="mp4v.20.8"'))return!0;if("probably"==a.canPlayType('video/mp4; codecs="avc1.42E01E"')||"probably"==a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))return!0}return!1},isSupportSVG:function(){return!(!document.implementation||!Txplayer.$.isFunction(document.implementation.hasFeature))&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},isSupportMute:function(){return!Txplayer.util.ios&&!Txplayer.util.mobile},getDomNodeOffsetInPage:function(a){for(var b=a.offsetLeft,c=a.offsetTop,d=a.offsetParent;null!==d;)b+=d.offsetLeft,c+=d.offsetTop,d=d.offsetParent;return{x:b,y:c}},whenWechatIsReady:function(a){var b=Txplayer.$.Deferred(),c=a.timeout||5e3;return Txplayer.ua.browser.wechat&&("undefined"!=typeof WeixinJSBridge&&WeixinJSBridge.on?b.resolve():(document.addEventListener("WeixinJSBridgeReady",function(){b.resolve()}),setTimeout(function(){b.reject()},c))),b},getMainHostName:function(){var a=window.location.hostname||window.location.host,b=location.host.split(".");return b.length>1&&(a=b.slice(b.length-2).join(".")),a},getUrlParam:function(a,b){b=b||document.location.toString();var c=new RegExp("(^|&|\\\\?)"+a+"=([^&]*)(&|$|#)"),d=null;return d=b.match(c),d?d[2]:""},getAdChannelId:function(){var a="";return/(.*\.)3g\.qq\.com$/i.test(document.location.hostname)?a=13:"v.qq.com"===document.location.hostname||c.browser.qqlive?a=0:c.browser.wechat?a=3:c.browser.mqq?a=10:c.browser.qqnews&&(a=2),a},insert2Array:function(a,b,c){if(b>c.length)return c;var d=c.slice(0,b),e=c.slice(b,c.length),f=[];return f=f.concat(d,a,e)},formatPlayTime:function(a){if("string"==typeof a&&(a=parseInt(a)),"number"==typeof a){a=parseInt(a);var b,c,d,e=function(a){return a<10?"0"+a:a};return b=parseInt(a/3600),c=parseInt((a-3600*b)/60),d=parseInt(a-3600*b-60*c),0===b?[e(c),e(d)].join(":"):[b,e(c),e(d)].join(":")}},dateFormat:function(a,b){b=b||new Date,a=a||"yyyy-MM-dd hh:mm:ss";var c={"M+":b.getMonth()+1,"d+":b.getDate(),"h+":b.getHours(),"m+":b.getMinutes(),"s+":b.getSeconds(),"q+":Math.floor((b.getMonth()+3)/3),S:b.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(b.getFullYear()+"").substr(4-RegExp.$1.length)));for(var d in c)new RegExp("("+d+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[d]:("00"+c[d]).substr((""+c[d]).length)));return a},isTencentDomain:function(a){if(a=a||document.domain,"qq.com"===a)return!0;var b=a.split(".");return!!(b&&b.length>2)&&("qq"===b[b.length-2]&&"com"===b[b.length-1])},loadPlugins:function(a,b,d,e){function f(){function a(){var d=function(){g(h)},e=function(){return k>=1?(c.showError("plugin load failed",b),void f()):(k++,void a())};b+=b.indexOf("?")>-1?"&_ts="+Txplayer.dataset.ts:"?_ts="+Txplayer.dataset.ts,c.loadScript(b).done(d).fail(e)}if(0===j.length)return void e();var b,h,i=j.shift(),k=0;h=i,d&&d.hasOwnProperty(h)&&d[h].url&&(b=d[h].url),b||(b=Txplayer.dataset.jsBasePath+"plugins/"+h.toLowerCase()+".js"),Txplayer.plugins.hasOwnProperty(h)?g(h):a()}function g(a){i=h(a),i&&i.done&&i.fail?i.done(function(){f()}):f()}function h(a){var e,f;if(!Txplayer.plugins.hasOwnProperty(a))return!1;d[a]?b.pluginConfig=d[a]:b.pluginConfig={},e=b.superMsg||b.msg;try{k["_"+a]=new Txplayer.plugins[a](b),e.broadcast&&e.broadcast(Txplayer.apiList.eventApi.pluginReady,{name:a})}catch(g){f=g.message,c.showError("JS有异常:"+a,f),c.log(g.stack),e.broadcast&&e.broadcast(Txplayer.apiList.privateApi.reportError,{msg:f,code:Txplayer.define.reportCode.JS_ERROR,stack:g.stack})}return"HtmlFrame"!==a&&!function(a,b,c){a&&(a.addDestroyToPlugin=function(){var d=this.context.superMsg||this.context.msg;d.on(Txplayer.apiList.privateApi.destroyPlugin,function(e,f){e&&e!==b||("function"===Txplayer.$.type(a.remove)&&a.remove(),a&&a.dataset&&(a.dataset.mudoleApis||a.dataset.privateApis||a.dataset.eventsList)&&(a.dataset.mudoleApis&&Txplayer.$.each(a.dataset.mudoleApis,function(a,b){d.off(a)}),a.dataset.privateApis&&Txplayer.$.each(a.dataset.privateApis,function(a,b){d.off(a)}),a.dataset.eventsList&&Txplayer.$.each(a.dataset.eventsList,function(a,b){d.off(a)})),a&&a.dataset&&Txplayer.$.each(a.dataset,function(a,b){/_TIMER/.test(a)&&b&&(clearInterval(b),clearTimeout(b))}),Txplayer.$.each(a,function(a,b){b=null}),c[b]=null,delete c[b])})},a.addDestroyToPlugin())}(k["_"+a],a,k),k["_"+a]}if(d=d||{},e=e||function(){},"array"!==Txplayer.$.type(a))return void c.showError("loadPlugins error","plugins的参数应该是数组");if(!b)return void c.showError("loadPlugins error","context是必要参数");var i,j=a.slice(0),k=this;f()},getUniqueMsgKey:function(a){return a+"."+c.createGUID()},getTxVideoPageURLByVid:function(a,b,c){if(b="0"!=b?"_"+b:"",!a)return"";var d="http://v.qq.com/",e=d+"page/"+a.substr(0,1)+"/"+a.substr(a.length-2,1)+"/"+a.substr(a.length-1,1)+"/"+a+b+".html";return c&&(e+="?start="+parseInt(c)),e},getBrowserBrand:function(){var a=Txplayer.util.browser,b="";return a.chrome?b="chrome":a.firefox?b="firefox":a.safari?b="safari":a.ie&&(a.ie.version?(a.ie.version+="",b="ie"+a.ie.version.split(".").shift()):b="ie"),b},xss:function(a){return"string"!=typeof a?a:a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&apos;")},isInScreen:function(a){var b=Txplayer.$(window),c={top:b.scrollTop(),left:b.scrollLeft()};c.right=c.left+b.width(),c.bottom=c.top+b.height();var d=Txplayer.$(a),e=d.offset();return e.right=e.left+d.outerWidth(),e.bottom=e.top+d.outerHeight(),!(c.right<e.left||c.left>e.right||c.bottom<e.top||c.top>e.bottom)},getPTAG:function(){var a=c.getUrlParam("ptag");return a||(a=c.cookie.get("ptag")),a}};a.exports=c},105:function(a,b,c){var d=c(104),e={autoplay:!1,playerType:"",videoType:"vod",vid:"",cid:"",columnId:"",containerId:"",width:"0",height:"0",showPoster:!0,defaultDefinition:"",isUseWebkitPlayinline:!0,isUseWebkitAirplay:!0,
isUseWebkitCrossOrigin:!1,isUseWebkitPreload:!1,isUseWebkitControl:!1,isUseHtml5UI:!0,muted:!1,volume:50,loop:!1,settings:{UiControl:{subPlugins:function(){var a=[];return a=d.mobile?["UiProgress","UiControlPlay","UiPlayNext","UiShowTime","UiWindowFullScreen","UiLogo"]:["UiProgress","UiControlPlay","UiPlayNext","UiShowTime","UiVolume","UiDefinition","UiSettings","UiToggleSidebar","UiBrowserFullScreen","UiWindowFullScreen","UiLogo"]}()},UiSettings:{},HdPlayer:{subPlugins:["UiShadow"]},H5Player:{subPlugins:["UiShadow"]},TizenLoadingAd:{url:"http://ra.gtimg.com/tv/samsung/tizenloadingad.js"}},isNeedPay:!1,loadingadAutoplay:!0,hdloadingadAutoplay:!0,autoplayAfterHdLoadingad:!0,playStartTime:0,skipPrelude:!0,useConnectionPlay:!1,connectionPlayTime:0,hideControlOnPlaying:!0,otherVideoLink:"http://v.qq.com/",useComboService:!0,showLogo:"v.qq.com"!==location.hostname,showTitle:"v.qq.com"!==location.hostname,showToggleSideBar:!1,show1080p:!0,flashWmode:function(){return d.browser.ie||d.browser.firefox?"opaque":"window"}(),flashvar:{},flashplayerUrl:"",showBrowserFullScreen:!1,showSettings:!0,showShare:!0,showCloseLight:!1,showSmallWindowButton:!1,showBullet:!1,bulletId:"",showImageBullet:!1,showBulletInput:!0,showFlashBulletInput:!1,openBulletDefault:!0,showRecommendOnEnd:!0,useFlashVIPLayer:-1,flashCallFn:function(){}};a.exports=e},106:function(a,b,c){var d=(c(104),{maxId:0,deferGetPlayerScript:{},hideClass:"txp_none",btnHoverClass:"txp_hover",currentClass:"txp_current",jsBasePath:"//vm.gtimg.cn/tencentvideo/txp/js/",flashVersion:"0.0.0",flashLiveSwf:"//vm.gtimg.cn/minivideo_v1/vd/res/TencentPlayerLive.swf?max_age=86400",flashVodSwf:function(){return"v.qq.com"===location.hostname?"//imgcache.qq.com/tencentvideo_v1/playerv3/TencentPlayer.swf?max_age=86400":"//imgcache.qq.com/tencentvideo_v1/playerv3/TPout.swf?max_age=86400"}(),_instance:{},documentWebSite:"http://tvp.oa.com/",jsApiReady:"TxPlayerJSBrageReady",tabindex:1,H5PlayerStyleUrl:{ipadh5:"//vm.gtimg.cn/tencentvideo/txp/style/txp_pad.css",html5hd:"//vm.gtimg.cn/tencentvideo/txp/style/txp_desktop.css"},comboServiceRule:"//vm.gtimg.cn/c/=",clickEventName:function(){return"click"}(),loadScriptDefer:{},switchDefinitionTimeout:0});d.localStorageKey={userId:"txp-userid",userSetting:"txp-user-setting",playTime:"txp-playtime",adRfid:"txp-ad-rfid",historyPlayTime:"txp-history-playtime",historyDefinition:"txp-history-definition",volumeHistory:"txp-history-volume",adMuteHistory:"txp-history-mute"},a.exports=d},107:function(a,b,c){var d=c(108);d.prototype.on=function(a,b){return a?b&&b.call&&b.constructor===Function?void this.addListener.call(this,a,b):void(window.Txplayer&&Txplayer.util.error("on error:listener must be a function"+a)):void(window.Txplayer&&Txplayer.util.error("on error:evtName不能为空:"+a))},d.prototype.run=function(a,b){if("string"!=typeof a)return!1;for(var c={data:null,async:!1},d=[a,b,c],e=0,f=arguments.length;e<f;e++)e<2||d.push(arguments[e]);return this.emit.apply(this,d),c.async?c.async:c.data},d.prototype.off=function(a){if(!a)return this;if(a.indexOf(".")>-1)return this.removeAllListeners.call(this,a),this;for(name in this._events)name!==a?name&&name.indexOf(".")===-1||a===name.split(".")[0]&&this.removeAllListeners.call(this,name):this.removeAllListeners.call(this,a);return this},d.prototype.broadcast=function(a,b){if(!a)return void(window.Txplayer&&Txplayer.util.error("broadcast error:evtName不能为空:"+a));if("string"!=typeof a)return this;for(var c=[a],d=0,e=arguments.length;d<e;d++)0!==d&&c.push(arguments[d]);var f=c.slice(0);if(a.indexOf(".")>-1)return this.emit.apply(this,c),this;for(msgName in this._events)msgName!==a?msgName&&msgName.indexOf(".")===-1||a===msgName.split(".")[0]&&(f[0]=msgName,this.emit.apply(this,f)):this.emit.apply(this,c);return this},a.exports=d},108:function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}a.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:h=Array.prototype.slice.call(arguments,1),c.apply(this,h)}else if(f(c))for(h=Array.prototype.slice.call(arguments,1),j=c.slice(),e=j.length,i=0;i<e;i++)j[i].apply(this,h);return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned&&(e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(e<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(d(b))return 1;if(b)return b.length}return 0},c.listenerCount=function(a,b){return a.listenerCount(b)}},109:function(a,b){var c;if("function"==typeof window.Zepto)c=window.Zepto;else if("function"==typeof window.jQuery)c=window.jQuery;else{if("function"!=typeof window.jq)throw ReferenceError("$ is not defined!");c=window.jq}a.exports=c},110:function(a,b){var c=function(a,b){return function(d,e){var f=/\s/.test(d)?function(a){var c,d=[b],e=[[]];for(c in a)d.push(c),e.push(a[c]);return new Function(d,f.$).apply(a,e).join("")}:a[d]=a[d]||c(document.getElementById(d).innerHTML);return f.$=f.$||b+".push('"+d.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join(b+".push('").split("\r").join("\\'")+"');return "+b,e?f(e):f}}({},"$"+ +new Date);a.exports=c},111:function(a,b){!function(){function b(a){var b,c;if(!a||"string"!=typeof a)return null;try{window.DOMParser?(c=new DOMParser,b=c.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(d){b=void 0}if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+a);return b}function c(a,b){return b.normalize?(a||"").trim():a}function d(a,b){var e,f,g,h,i={},j={};if(i[b.attrkey]=j,a.attributes&&a.attributes.length>0)for(e=0;e<a.attributes.length;e++){var k=a.attributes.item(e);j[k.nodeName]=k.value}for(0===a.childElementCount&&(i[b.charkey]=c(a.textContent,b)),e=0;e<a.childNodes.length;e++)if(f=a.childNodes[e],1===f.nodeType)if(g=0===f.attributes.length&&0===f.childElementCount?c(f.textContent,b):d(f,b),h=f.nodeName,i.hasOwnProperty(h)){var l=i[h];Array.isArray(l)||(l=[l],i[h]=l),l.push(g)}else b.explicitArray===!0?i[h]=[g]:i[h]=g;return i}function e(a,e){var g;if(!a)return a;e=e||{};for(g in f)f.hasOwnProperty(g)&&void 0===e[g]&&(e[g]=f[g]);"string"==typeof a&&(a=b(a).documentElement);var h={};return"undefined"==typeof a.attributes||null===a.attributes?h[a.nodeName]=d(a,e):a.attributes&&0===a.attributes.length&&0===a.childElementCount?h[a.nodeName]=c(a.textContent,e):h[a.nodeName]=d(a,e),h}var f={attrkey:"$",charkey:"_",normalize:!1,explicitArray:!1};a.exports=e}()},112:function(a,b){function c(a){var b=this.run(Txplayer.apiList.publicApi.getPlayerType),c=this.run(Txplayer.apiList.publicApi.getVideoType),d={version:Txplayer.dataset.ver,uid:this.run(Txplayer.apiList.publicApi.getUserId),pid:this.run(Txplayer.apiList.publicApi.getPlayerId),vid:this.run(Txplayer.apiList.publicApi.getVid),player_type:b,video_type:"vod"===c?1:2,platform:Txplayer.util.getPlatform(),url:document.URL,filename:Txplayer.dataset.filename,sub_version:Txplayer.dataset.flashVersion,error_code:a.code,error_msg:a.msg,error_stack:a.stack,file_lastupdate:Txplayer.dataset.lastModify,qq_openid:e(),browser:Txplayer.util.getBrowserBrand()};d.error_msg=d.error_msg.replace(/\$/g,""),d.error_stack=d.error_stack.replace(/\$/g,""),Txplayer.util.showInfo("错误上报",d);var f="http://btrace.video.qq.com/kvcollect?BossId=3720&Pwd=1814753491&";f+=Txplayer.$.param(d),Txplayer.util.report(f)}function d(a){function b(){var a;if(!(Txplayer&&Txplayer.dataset&&Txplayer.dataset._instance))return a;for(var b in Txplayer.dataset._instance){a=Txplayer.dataset._instance[b];break}return a}if(a&&a.filename&&a.message&&a.filename.indexOf("//vm.gtimg.cn/tencentvideo/txp/js/")!==-1){var c,d,f,g,h,i=b();i&&i.constructor===Txplayer&&(c=i.getUserId(),d=i.getPlayerId(),f=i.getVid(),g=i.getPlayerType(),h=i.getVideoType());var j=["line="+a.lineno,"column="+a.colno].join(" "),k={version:Txplayer.dataset.ver,uid:c,pid:d,vid:f,player_type:g,video_type:"vod"===h?1:2,platform:Txplayer.util.getPlatform(),url:document.URL,filename:a.filename,sub_version:Txplayer.dataset.flashVersion,error_code:"3000",error_msg:a.message,error_stack:j,file_lastupdate:Txplayer.dataset.lastModify,qq_openid:e()};Txplayer.util.showInfo("错误上报",k);var l="http://btrace.video.qq.com/kvcollect?BossId=3720&Pwd=1814753491&";l+=Txplayer.$.param(k),Txplayer.util.report(l)}}function e(){var a=Txplayer.util.cookie.get("openid")||Txplayer.util.getQQFromCookie();return a}function f(a,b){var c={version:Txplayer.dataset.ver,uid:a.msg.run(Txplayer.apiList.publicApi.getUserId),pid:a.msg.run(Txplayer.apiList.publicApi.getPlayerId),vid:a.msg.run(Txplayer.apiList.publicApi.getVid),player_type:b.playType,video_type:"vod"===b.videoType?1:2,platform:Txplayer.util.getPlatform(),url:document.URL,filename:Txplayer.dataset.filename,sub_version:Txplayer.dataset.flashVersion,_dc:Math.random(),browser:Txplayer.util.getBrowserBrand()},d="http://btrace.video.qq.com/kvcollect?BossId=3721&Pwd=1636975887&";d+=Txplayer.$.param(c),Txplayer.util.showInfo("播放器调用次数上报",c),Txplayer.util.report(d)}function g(a){var b=this.run(Txplayer.apiList.publicApi.getPlayerType),c=this.run(Txplayer.apiList.publicApi.getVideoType),d={version:Txplayer.dataset.ver,uid:this.run(Txplayer.apiList.publicApi.getUserId),pid:this.run(Txplayer.apiList.publicApi.getPlayerId),vid:this.run(Txplayer.apiList.publicApi.getVid),player_type:b,video_type:"vod"===c?1:2,platform:Txplayer.util.getPlatform(),url:document.URL,usr_action:a.usr_action,usr_action_detail:a.usr_action_detail};Txplayer.util.showInfo("用户行为上报",d);var e="http://btrace.video.qq.com/kvcollect?BossId=3717&Pwd=1055758521&";e+=Txplayer.$.param(d),Txplayer.util.report(e)}function h(a){var b=(this.run(Txplayer.apiList.publicApi.getPlayerType),this.run(Txplayer.apiList.publicApi.getVideoType),{gid:this.run(Txplayer.apiList.publicApi.getUserId),plt:Txplayer.util.getPlatform(),uin:Txplayer.util.getQQFromCookie(),vid:this.run(Txplayer.apiList.publicApi.getVid),cts:Txplayer.$.now(),sdt:Txplayer.util.getStdfrom(),fne:a.filename,dip:a.cdnIp,cdn:a.cdnId,vky:a.vkey});Txplayer.util.showInfo("getinfo上报",b);var c="http://btrace.video.qq.com/kvcollect?BossId=2594&Pwd=0&";c+=Txplayer.$.param(b),Txplayer.util.report(c)}function i(a){var b={url:window!=top?document.referrer:document.location.href,ver:Txplayer.dataset.ver,ua:navigator.userAgent.replace(/\$/g,""),iSta:"3537",val:1,int1:Txplayer.util.getDeviceCode(),int2:Txplayer.util.getPlatformCode(),int3:0,int4:0,str1:"",str2:Txplayer.dataset.filename,str8:Txplayer.util.getUrlParam("mmuin")};b.vid=a.vid,b.int6=a.promotionId,b.str4=a.appCase,b.int5=a.reportStep,b.str6=Txplayer.util.getUrlParam("openid",window!=top?top.location.href.toString():""),b.str6=b.str6||"",b.str7=a.limitCase||"",Txplayer.util.showInfo("AppBanner上报",b);var c="http://btrace.video.qq.com/kvcollect?BossId=4046&Pwd=176231195&_dc="+Math.random();c+="&"+Txplayer.$.param(b),Txplayer.util.report(c)}function j(a){a.msg.on(Txplayer.apiList.privateApi.reportError,c),a.msg.on(Txplayer.apiList.privateApi.reportUsrAction,g),a.msg.on(Txplayer.apiList.privateApi.reportGetinfo,h),a.msg.on(Txplayer.apiList.privateApi.reportAppBanner,i)}window.addEventListener?window.addEventListener("error",d):window.attachEvent&&window.attachEvent("onerror",d),a.exports={reportTxplayer:f,reportError:c,exportsReportApi:j}}}),function(){window.Txplayer&&Txplayer.dataset&&Txplayer.$&&Txplayer.$.extend(Txplayer.dataset,{filename:"txplayer.js",lastModify:"2016-08-19 14:24:25",ts:"1471587865718",ver:"3.0.0"})}();